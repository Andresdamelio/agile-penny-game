(function(t){function e(e){for(var o,r,c=e[0],s=e[1],u=e[2],l=0,m=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);f&&f(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={index:0},i={index:0},a=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-37cb0490":"3c4c855e","chunk-7731c92c":"de395aad","chunk-ff767768":"971fbcb6"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-37cb0490":1,"chunk-7731c92c":1,"chunk-ff767768":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-37cb0490":"28c97421","chunk-7731c92c":"5c36bc5d","chunk-ff767768":"f9e550c8"}[t]+".css",i=s.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===i))return e()}var m=document.getElementsByTagName("style");for(c=0;c<m.length;c++){u=m[c],l=u.getAttribute("data-href");if(l===o||l===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[t],f.parentNode.removeChild(f),n(a)},f.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){r[t]=0})));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var m=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",m.name="ChunkLoadError",m.type=o,m.request=r,n[1](m)}i[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05b8":function(t,e,n){"use strict";var o=n("c161"),r=n.n(o);r.a},"2dad":function(t,e,n){"use strict";var o=n("b9f6"),r=n.n(o);r.a},"4bdb":function(t,e,n){"use strict";var o=n("ee9d"),r=n.n(o);r.a},5387:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view"),n("Footer"),n("notify")],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"container-fluid custom-header d-flex justify-content-between align-content-center flex-column flex-sm-row mb-3"},[o("router-link",{attrs:{to:"/"}},[o("div",{staticClass:"d-flex align-content-center justify-content-center justify-content-sm-start"},[o("img",{staticClass:"icon-header",attrs:{src:n("fb15"),alt:"image coin"}}),o("h1",{staticClass:"m-0"},[t._v("Penny Game")])])]),t._m(0)],1)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav justify-content-center justify-content-sm-start"},[n("li",{staticClass:"nav-item"},[t._v("Inicio")]),n("li",{staticClass:"nav-item"},[t._v("Mis salas")]),n("li",{staticClass:"nav-item"},[t._v("Partidas")])])}],s={name:"Header"},u=s,l=(n("2dad"),n("2877")),m=Object(l["a"])(u,a,c,!1,null,"35c0d018",null),f=m.exports,d=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"container-fluid custom-footer fixed-bottom"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._v(" 4Agile - 2020 ")])])])}],v={name:"Footer"},g=v,h=(n("05b8"),Object(l["a"])(g,d,p,!1,null,"8a41cbd8",null)),_=h.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"min-height":"200px"},attrs:{"aria-live":"polite","aria-atomic":"true"}},[n("div",{class:t.notify.show?"toast fade show":"toast",attrs:{id:"toast"}},[n("div",{staticClass:"toast-header"},[n("strong",{staticClass:"mr-auto"},[t._v(t._s(t.notify.title))])]),n("div",{staticClass:"toast-body"},[t._v(t._s(t.notify.message))])])])},b=[],E={computed:{notify:function(){return this.$store.getters["getNotify"]}}},R=E,S=(n("4bdb"),Object(l["a"])(R,y,b,!1,null,null,null)),T=S.exports,O={name:"App",components:{Footer:_,Header:f,Notify:T}},C=O,k=(n("5c0b"),Object(l["a"])(C,r,i,!1,null,null,null)),w=k.exports,I=n("2f62"),j=n("5132"),x=n.n(j),P=(n("99af"),n("c740"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{state:{rooms:[],room:null,magigLink:null,gameFinish:!1,isThereRoom:!1,currentPlayer:null,moveCoin:{},timerRunning:!1,timerRestart:!1,gameResults:null},mutations:{ADD_ROOM:function(t,e){t.rooms.push(e)},SET_ROOM:function(t,e){t.room=e,t.isThereRoom=!0},SET_MAGIG_LINK:function(t,e){t.magigLink=new URL("/room/".concat(e),window.location.origin).href},SET_CURRENT_PLAYER:function(t,e){t.currentPlayer=e},SET_RESULTS:function(t,e){t.gameResults=e},SOCKET_INIT_ROUND:function(t,e){t.room=e},SOCKET_NEW_PLAYER:function(t,e){var n=e.room;t.room=n},SOCKET_MOVE_COIN:function(t,e){var n=e.player,o=e.coin,r=t.room.players.findIndex((function(t){return t.id===n.id}));Object.assign(t.room.players[r],n),t.moveCoin=o},SOCKET_UPDATE_PLAYER:function(t,e){var n=t.room.players.findIndex((function(t){return t.id===e.id}));Object.assign(t.room.players[n],e)},SOCKET_START_COUNTER:function(t){t.timerRestart=!1,t.timerRunning=!0},SOCKET_STOP_COUNTER:function(t){t.timerRunning=!1,t.timerRestart=!0},SOCKET_GAME_FINISHED:function(t){t.gameFinish=!0}},getters:{getRoomId:function(t){return t.room.id},getGame:function(t){var e,n,o,r;return{rounds:(null===(e=t.room)||void 0===e?void 0:e.rounds)?t.room.rounds:[],size:(null===(n=t.room)||void 0===n?void 0:n.size)?t.room.size:2,players:(null===(o=t.room)||void 0===o?void 0:o.players)?t.room.players:[],coins:20,actualRoundIndex:(null===(r=t.room)||void 0===r?void 0:r.actualRound)?t.room.actualRound:0,isFinished:t.gameFinish}},isThereRoom:function(t){return t.isThereRoom},getCurrentPlayer:function(t){return t.currentPlayer},getTimerRunning:function(t){return t.timerRunning},getTimerRestart:function(t){return t.timerRestart}},actions:{socket_new_room:function(t,e){var n=t.rootState,o=t.commit,r=t.dispatch,i=e.name,a=e.players;n.io.emit("newRoom",a,(function(t){var e=t.room;t.ok?(o("ADD_ROOM",e),o("SET_MAGIG_LINK",e.id),r("socket_join_room",{name:i,roomId:e.id})):console.error("Algo salió mal, no se pudo crear la sala")}))},socket_init_round:function(t){var e=t.rootState,n=t.getters;e.io.emit("initRound",n["getRoomId"])},socket_join_room:function(t,e){var n=t.rootState,o=t.commit,r=e.name,i=e.roomId;n.io.emit("joinRoom",{name:r,roomId:i},(function(t){var e=t.room;t.ok?(o("SET_ROOM",e),o("SET_CURRENT_PLAYER",e.players[e.players.length-1].id)):console.log("Algo salió mal, recargue la página")}))},socket_start_counter:function(t){var e=t.rootState,n=t.getters;e.io.emit("startCounter",n["getRoomId"])},socket_move_coin:function(t,e){var n=t.rootState,o=t.getters,r=e.coordinateX,i=e.coordinateY,a=e.type;n.io.emit("moveCoin",{coordinateX:r,coordinateY:i,type:a,roomId:o["getRoomId"]})},socket_move_coins:function(t){var e=t.rootState,n=t.getters;e.io.emit("moveCoins",{roomId:n["getRoomId"]})},socket_save_result:function(t,e){var n=t.rootState,o=t.getters,r=e.time,i=e.type;n.io.emit("saveResult",{roomId:o["getRoomId"],time:r,type:i})},socket_end_game:function(t){var e=t.rootState,n=t.getters;e.io.emit("endGame",{roomId:n["getRoomId"]})},get_room_by_id:function(t,e){var n=t.commit;fetch("".concat("https://server-penny-game.herokuapp.com","/room/").concat(e)).then((function(t){return t.json()})).then((function(t){t.ok?n("SET_ROOM",t.room):console.log("Algo salió mal, recargue la página")}))},get_results_by_room:function(t,e){var n=t.commit;fetch("".concat("https://server-penny-game.herokuapp.com","/results/").concat(e)).then((function(t){return t.json()})).then((function(t){t.ok?n("SET_RESULTS",t.resume):console.log("Algo salió mal, recargue la página")}))}}}),A=P;o["a"].use(I["a"]);var N=new I["a"].Store({state:{io:{},notify:{show:!1}},mutations:{SET_SOCKET:function(t,e){t.io=e},SOCKET_SHOW_NOTIFY:function(t,e){var n=e.notify;t.notify=n,setTimeout((function(){t.notify={show:!1}}),3e3)}},actions:{setNotify:function(t,e){var n=t.commit;n("SHOW_NOTIFY",e)}},getters:{getNotify:function(t){return t.notify}},modules:{pennyModule:A}});o["a"].use(new x.a({debug:!1,connection:"https://server-penny-game.herokuapp.com",vuex:{store:N,actionPrefix:"socket_",mutationPrefix:"SOCKET_"}}));var L=N,M=n("8c4f");o["a"].use(M["a"]);var K=[{path:"/",name:"home",component:function(){return n.e("chunk-37cb0490").then(n.bind(null,"8d05"))}},{path:"/room/:id",name:"room",component:function(){return n.e("chunk-7731c92c").then(n.bind(null,"b733"))}},{path:"/game-result/:id",name:"result",component:function(){return n.e("chunk-ff767768").then(n.bind(null,"7fe6"))}}],F=new M["a"]({mode:"history",base:"/",routes:K}),U=F;o["a"].config.productionTip=!1,new o["a"]({store:L,router:U,beforeCreate:function(){L.commit("SET_SOCKET",this.$socket)},render:function(t){return t(w)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("5387"),r=n.n(o);r.a},b9f6:function(t,e,n){},c161:function(t,e,n){},ee9d:function(t,e,n){},fb15:function(t,e,n){t.exports=n.p+"img/coin.3ed58189.svg"}});
//# sourceMappingURL=index.9368176f.js.map